@page "/tracks"
@using DogApp.Modellayer.EntityModels
@attribute [StreamRendering(true)]
@rendermode InteractiveServer
@inject DogApp.Modellayer.Repositories.ITrackRepo TrackRepository



<h3>Mine Baner</h3>

@if (tracks !=null)
{
     <div class=" container text-left">
        <div class="row align-items-start">

            <div class="col">

                <h1>Bane</h1>
                <ul>
                    @foreach (var track in tracks)
                    {
                        <li>@track.Id</li>
                        <li><b>@track.Name</b></li>
                        <button class="button-edit" @onclick="() => EditItem(track)">Edit</button>
                       
                    }
                </ul>
            </div>
        </div>
</div>
}
                else
                {
                <p>Loading...</p>
                }
@code {
    List<DogApp.Modellayer.EntityModels.Track> tracks;

    [Inject]
    NavigationManager  NavigationManager {get; set;}

    protected override async Task OnInitializedAsync()
    {
        tracks = await TrackRepository.GetAllAsync();
    }
    public async Task EditItem(Track track)
    {
        NavigationManager.NavigateTo($"/edititem/{track.Id}");
    }
}


